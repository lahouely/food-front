"use client"

import clsx from "clsx"
import { useCollections, useProductCategories } from "medusa-react"
import Link from "next/link"
import CountrySelect from "../country-select"

const FooterNav = () => {
  const { collections } = useCollections()
  const { product_categories } = useProductCategories()

  return (
    <div className="content-container flex flex-col gap-y-8 pt-16 pb-8">
      <div className="flex flex-col gap-y-6 xsmall:flex-row items-start justify-between">
        <div>
          <Link href="/" className="text-xl-semi uppercase">
            <svg version="1.0" xmlns="http://www.w3.org/2000/svg"  width="100.000000pt" height="100.000000pt" viewBox="0 0 1350.000000 1350.000000"  preserveAspectRatio="xMidYMid meet">  <g transform="translate(0.000000,1350.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none">
              <path d="M6672 11749 c-13 -20 -30 -73 -52 -159 -5 -19 -16 -57 -24 -85 -8 -27 -26 -90 -40 -140 -14 -49 -32 -112 -41 -140 -20 -66 -65 -222 -75 -260 -23 -90 -94 -335 -106 -368 -17 -46 -17 -42 2 -61 20 -21 216 -23 231 -3 6 6 20 48 33 92 12 44 29 99 37 123 l15 42 132 0 133 0 15 -42 c9 -24 24 -81 35 -128 16 -69 25 -87 44 -97 33 -18 218 -17 225 0 2 7 -12 78 -32 157 -20 80 -40 161 -44 180 -4 19 -24 98 -45 175 -20 77 -41 156 -45 175 -4 19 -24 100 -45 180 -20 80 -48 190 -62 245 -13 55 -30 105 -36 111 -7 7 -63 15 -127 19 -111 6 -115 6 -128 -16z m158 -579 c12 -41 23 -88 24 -105 1 -30 0 -30 -54 -33 -75 -3 -87 6 -72 55 6 21 21 71 33 111 26 89 37 85 69 -28z"/> <path d="M5725 11693 c-11 -2 -38 -11 -60 -18 -22 -8 -66 -21 -97 -30 -31 -10 -59 -24 -62 -31 -3 -8 -8 -173 -11 -366 -4 -194 -8 -363 -11 -375 -6 -32 -18 -29 -46 15 -14 20 -105 157 -202 304 -98 147 -184 272 -192 279 -12 10 -33 6 -107 -18 -51 -17 -107 -34 -124 -38 -44 -9 -54 -29 -38 -79 44 -142 77 -248 91 -296 8 -30 22 -73 29 -95 7 -22 27 -87 45 -145 156 -512 170 -556 184 -575 11 -16 18 -17 52 -7 21 6 64 18 94 27 85 24 87 28 55 132 -15 48 -47 153 -72 233 -24 80 -51 165 -59 189 -16 50 -18 81 -6 81 5 0 40 -50 78 -110 38 -61 103 -165 146 -233 116 -185 125 -197 151 -197 37 0 120 30 138 50 14 17 16 54 11 330 -4 286 -4 310 12 304 9 -3 19 -18 22 -33 24 -104 155 -514 169 -530 12 -12 24 -11 82 7 37 12 78 24 90 27 52 14 53 25 17 147 -76 253 -86 285 -99 323 -7 22 -27 87 -44 145 -18 58 -38 123 -45 145 -7 22 -21 67 -31 100 -10 33 -31 103 -47 155 -16 52 -34 111 -40 130 -17 58 -26 64 -73 53z"/> <path d="M7848 11579 c-31 -11 -76 -37 -100 -59 -72 -63 -92 -109 -198 -460 -18 -58 -38 -123 -46 -145 -49 -147 -57 -253 -27 -340 52 -148 274 -265 500 -265 200 0 271 70 361 356 28 87 53 168 56 180 12 41 -4 48 -259 124 -131 39 -145 43 -167 41 -20 -1 -74 -161 -69 -208 0 -7 38 -24 84 -38 115 -35 115 -35 93 -83 -10 -22 -34 -55 -53 -74 -32 -31 -39 -33 -97 -32 -47 1 -74 7 -106 25 -101 56 -108 118 -42 329 24 74 52 167 64 205 43 145 88 195 176 195 50 0 121 -26 163 -61 34 -27 34 -28 34 -110 0 -62 4 -84 15 -90 28 -15 195 -57 207 -52 21 8 43 108 43 197 0 103 -28 173 -94 234 -85 78 -295 153 -424 151 -31 0 -83 -9 -114 -20z"/> <path d="M3430 10108 c-94 -43 -347 -341 -585 -688 -239 -349 -495 -901 -605 -1305 -41 -153 -63 -244 -100 -425 -15 -69 -47 -300 -62 -440 -17 -164 -17 -694 0 -860 17 -160 40 -325 58 -420 24 -122 74 -342 89 -390 97 -311 136 -426 181 -527 8 -17 14 -34 14 -37 0 -18 169 -364 226 -461 22 -38 43 -77 47 -85 4 -8 15 -27 25 -42 9 -15 36 -57 59 -95 105 -167 150 -204 227 -181 42 13 69 41 84 85 13 39 4 77 -36 141 -15 26 -31 54 -35 62 -4 8 -21 38 -37 65 -71 118 -211 416 -283 605 -81 209 -169 527 -201 725 -10 55 -22 123 -27 150 -11 51 -22 152 -38 353 -13 155 -13 443 -1 582 25 283 28 304 77 555 37 191 42 215 48 226 3 5 13 35 21 66 14 53 30 107 54 188 43 146 166 438 265 630 195 379 409 678 729 1018 127 136 139 153 157 215 23 84 -20 212 -87 258 -88 58 -181 70 -264 32z"/> <path d="M9854 9956 c-30 -30 -34 -41 -34 -84 0 -56 0 -56 156 -234 97 -111 209 -257 291 -378 67 -98 163 -249 163 -256 0 -2 12 -23 26 -46 31 -49 184 -348 184 -360 0 -4 13 -36 29 -70 95 -206 201 -537 255 -793 68 -329 85 -472 93 -810 13 -554 -65 -1031 -254 -1560 -28 -78 -66 -171 -94 -233 -16 -34 -29 -65 -29 -68 0 -6 -118 -243 -150 -299 -42 -76 -94 -160 -167 -273 -92 -141 -108 -197 -84 -289 19 -74 71 -142 134 -175 56 -29 184 -31 237 -4 41 21 108 83 121 111 5 11 18 34 29 50 11 17 23 37 27 45 4 8 20 38 36 65 63 106 170 323 233 473 72 172 89 215 133 342 19 53 72 230 81 270 5 19 20 80 33 135 14 55 33 138 42 185 9 47 20 105 25 130 20 96 50 385 61 598 10 171 10 253 1 355 -7 73 -12 160 -12 194 0 63 -32 333 -51 433 -38 202 -72 360 -90 415 -5 17 -23 77 -40 135 -48 166 -160 475 -199 549 -5 9 -43 87 -85 174 -64 132 -128 252 -175 327 -5 8 -21 35 -36 60 -152 253 -384 550 -614 783 l-135 137 -54 0 c-47 0 -57 -4 -87 -34z"/> <path d="M6649 9561 l-29 -29 0 -201 c0 -119 4 -202 10 -206 7 -5 194 -9 258 -6 9 1 12 49 12 205 l0 204 -26 31 c-25 30 -28 31 -111 31 -80 0 -86 -2 -114 -29z"/> <path d="M6440 8904 c-68 -8 -167 -23 -220 -35 -52 -12 -113 -25 -135 -29 -48 -8 -130 -32 -245 -71 -145 -49 -173 -59 -228 -84 -29 -14 -55 -25 -58 -25 -12 0 -225 -110 -336 -174 -71 -41 -72 -41 -58 -153 6 -54 15 -143 20 -198 5 -55 14 -127 19 -160 10 -57 26 -194 41 -355 4 -41 12 -100 18 -130 12 -57 34 -220 52 -375 6 -49 17 -128 25 -175 9 -47 19 -119 25 -160 13 -105 30 -202 37 -213 3 -6 18 26 33 69 15 43 34 90 41 104 25 44 72 114 99 145 58 69 230 221 309 275 89 59 388 240 398 240 3 0 31 15 62 34 48 29 352 187 491 256 52 25 48 23 176 91 54 29 123 65 153 81 30 15 59 32 65 37 6 5 32 20 57 33 146 75 355 223 458 325 40 40 78 70 83 67 14 -9 2 -123 -18 -189 -20 -66 -74 -196 -89 -215 -7 -8 -15 -22 -18 -31 -13 -39 -173 -222 -250 -286 -104 -88 -293 -216 -412 -278 -49 -26 -103 -55 -120 -65 -16 -10 -79 -43 -140 -75 -407 -214 -843 -517 -1052 -731 -70 -71 -183 -206 -183 -217 0 -3 -14 -27 -31 -52 -42 -62 -41 -97 6 -295 9 -36 20 -90 26 -120 5 -30 13 -66 18 -80 5 -14 12 -37 15 -52 9 -42 32 -34 89 29 154 172 249 250 527 436 106 71 345 217 355 217 3 0 39 20 78 43 40 24 131 75 202 112 72 38 147 79 167 92 21 13 41 23 44 23 10 0 150 87 194 120 19 15 71 53 114 86 205 153 447 392 601 594 57 75 175 251 175 263 0 4 11 25 24 45 27 43 78 159 106 242 56 164 79 361 60 512 -20 166 -17 159 -91 186 -124 47 -144 54 -159 62 -9 4 -31 11 -50 14 -19 4 -53 13 -75 21 -175 58 -356 103 -585 144 -218 40 -659 52 -910 25z"/> <path d="M8101 7053 c-49 -74 -195 -235 -284 -315 -45 -40 -84 -76 -87 -79 -17 -20 -288 -216 -352 -254 -9 -5 -59 -35 -110 -66 -51 -32 -120 -72 -153 -90 -33 -18 -80 -43 -105 -57 -25 -13 -108 -57 -185 -97 -119 -61 -257 -138 -315 -175 -8 -5 -49 -30 -90 -55 -337 -206 -526 -411 -597 -650 -24 -82 -24 -309 1 -415 9 -41 19 -85 22 -98 3 -13 10 -22 16 -20 12 4 14 7 48 78 107 220 382 491 754 743 50 34 99 66 108 72 10 5 75 44 145 86 71 43 162 95 204 117 312 164 505 302 662 471 183 199 316 492 364 807 8 50 -12 48 -46 -3z"/> <path d="M7740 5768 c-68 -84 -193 -193 -320 -280 -100 -68 -294 -188 -304 -188 -6 0 -262 -140 -323 -176 -144 -86 -190 -115 -273 -172 -204 -141 -334 -299 -392 -477 -19 -61 -22 -90 -21 -220 0 -112 5 -161 17 -194 9 -24 16 -54 16 -67 0 -28 19 -42 31 -23 5 8 14 32 21 54 21 72 134 246 214 331 110 116 293 253 502 376 40 24 81 48 90 53 9 6 58 32 107 59 50 27 104 60 122 73 17 12 34 23 38 23 5 0 64 39 75 50 3 3 31 22 62 43 155 105 323 347 359 516 26 123 37 261 21 261 -4 0 -23 -19 -42 -42z"/> <path d="M6814 4345 c-34 -29 -92 -82 -128 -117 l-66 -64 3 -163 c3 -203 1 -201 142 -201 104 0 120 8 130 63 10 55 1 530 -10 533 -5 1 -38 -21 -71 -51z"/> <path d="M4386 3658 c-31 -46 -69 -101 -85 -123 -29 -40 -394 -566 -503 -726 -34 -49 -56 -92 -53 -100 8 -19 382 -276 463 -318 59 -30 72 -33 152 -33 68 0 98 5 136 22 59 27 143 111 210 210 28 41 71 104 96 140 24 36 66 97 93 135 26 39 54 77 61 85 7 8 27 44 44 79 28 56 32 74 32 145 1 136 -55 219 -222 332 -41 28 -134 92 -207 142 -72 51 -138 92 -146 92 -8 0 -40 -37 -71 -82z m224 -313 c77 -51 119 -95 140 -145 12 -29 12 -39 -3 -81 -17 -46 -101 -176 -232 -359 -84 -117 -149 -151 -232 -119 -55 20 -183 111 -183 130 0 19 11 35 227 347 26 37 60 87 77 112 54 81 117 160 128 160 6 0 41 -20 78 -45z"/> <path d="M8710 3431 c-62 -22 -408 -223 -427 -249 -10 -12 -10 -20 0 -36 8 -12 28 -46 44 -76 17 -30 112 -192 212 -359 100 -167 181 -305 181 -308 0 -3 15 -28 33 -56 19 -29 59 -96 91 -149 31 -54 63 -98 71 -98 8 0 44 18 80 40 36 22 69 40 73 40 5 0 18 10 30 23 25 27 28 21 -76 192 -66 108 -67 122 -12 145 29 12 34 10 88 -27 179 -125 224 -153 246 -153 14 0 65 24 115 53 114 66 116 75 18 141 -39 28 -105 72 -146 100 -40 28 -76 56 -78 64 -3 7 2 42 12 78 27 100 7 162 -119 374 -126 211 -187 265 -313 275 -53 4 -80 1 -123 -14z m150 -294 c33 -34 71 -95 110 -174 24 -50 26 -100 5 -130 -20 -28 -117 -93 -139 -93 -15 0 -59 60 -106 146 -12 22 -30 53 -40 69 -40 63 -62 113 -59 130 5 25 115 83 160 84 29 1 43 -6 69 -32z"/> <path d="M5507 3099 c-148 -23 -226 -114 -297 -349 -18 -58 -38 -123 -45 -145 -92 -274 -109 -341 -109 -430 0 -95 9 -123 62 -192 52 -70 194 -143 342 -178 169 -39 308 3 386 117 35 52 67 131 114 288 18 58 36 116 40 130 40 120 81 267 90 322 26 152 -40 273 -192 352 -124 64 -290 101 -391 85z m181 -280 c74 -25 118 -66 127 -120 8 -49 4 -72 -50 -244 -24 -77 -53 -169 -63 -205 -29 -94 -49 -128 -95 -161 -47 -34 -99 -38 -162 -11 -57 24 -79 42 -99 79 -28 56 -23 87 58 348 78 252 92 282 154 315 47 24 55 24 130 -1z"/> <path d="M7955 3088 c-38 -11 -92 -26 -120 -33 -43 -11 -114 -30 -240 -66 -16 -4 -59 -15 -95 -24 -36 -9 -71 -23 -79 -30 -15 -15 -15 -14 24 -145 7 -25 28 -101 45 -170 17 -69 36 -136 41 -150 5 -14 20 -68 33 -120 14 -52 32 -122 41 -155 9 -33 30 -109 45 -168 16 -60 34 -123 39 -140 6 -18 18 -61 28 -96 10 -35 23 -65 29 -68 6 -2 36 2 65 10 30 9 90 25 134 36 44 12 130 35 190 52 61 17 137 37 170 46 90 24 93 28 71 115 -26 102 -42 138 -62 138 -14 0 -159 -38 -284 -75 -82 -24 -110 -28 -114 -13 -2 7 -14 49 -26 93 -11 44 -26 91 -31 104 -14 35 -2 59 34 66 18 3 52 12 77 20 25 7 72 21 105 30 33 10 66 19 74 21 17 5 9 71 -18 159 -24 77 -36 84 -103 63 -180 -57 -229 -67 -245 -46 -11 14 -48 133 -58 189 l-7 37 70 21 c39 11 75 21 80 21 5 0 32 7 58 15 27 8 82 24 122 36 83 24 83 23 52 136 -33 125 -30 124 -145 91z"/> <path d="M6395 2870 c-3 -5 -8 -157 -10 -337 -3 -180 -7 -453 -10 -606 -5 -338 -14 -317 129 -317 67 0 97 4 105 14 7 9 13 109 18 295 3 154 9 281 12 281 11 0 28 -35 100 -206 40 -93 76 -178 81 -189 5 -11 20 -47 34 -80 51 -120 37 -110 162 -113 93 -2 113 0 125 14 20 24 28 1232 8 1245 -23 14 -215 11 -227 -4 -7 -8 -14 -114 -19 -277 -6 -196 -11 -264 -20 -268 -7 -2 -16 5 -19 15 -12 36 -180 447 -202 493 -9 19 -21 38 -27 42 -15 11 -233 10 -240 -2z"/> </g> 
            </svg> 
          </Link>
        </div>
        <div className="text-small-regular grid grid-cols-3 gap-x-10 md:gap-x-16">
          {product_categories && (
            <div className="flex flex-col gap-y-2">
              <span className="text-base-semi">Categories</span>
              <ul className="grid grid-cols-1 gap-2">
                {product_categories?.slice(0, 6).map((c) => {
                  if (c.parent_category) {
                    return
                  }

                  const children =
                    c.category_children?.map((child) => ({
                      name: child.name,
                      handle: child.handle,
                      id: child.id,
                    })) || null

                  return (
                    <li className="flex flex-col gap-2" key={c.id}>
                      <Link
                        className={clsx(children && "text-small-semi")}
                        href={`/${c.handle}`}
                      >
                        {c.name}
                      </Link>
                      {children && (
                        <ul className="grid grid-cols-1 ml-3 gap-2">
                          {children &&
                            children.map((child) => (
                              <li key={child.id}>
                                <Link href={`/${child.handle}`}>
                                  {child.name}
                                </Link>
                              </li>
                            ))}
                        </ul>
                      )}
                    </li>
                  )
                })}
              </ul>
            </div>
          )}
          {collections && (
            <div className="flex flex-col gap-y-2">
              <span className="text-base-semi">Collections</span>
              <ul
                className={clsx("grid grid-cols-1 gap-2", {
                  "grid-cols-2": (collections?.length || 0) > 3,
                })}
              >
                {collections?.slice(0, 6).map((c) => (
                  <li key={c.id}>
                    <Link href={`/collections/${c.handle}`}>{c.title}</Link>
                  </li>
                ))}
              </ul>
            </div>
          )}
          <div className="flex flex-col gap-y-2">
            <span className="text-base-semi">Medusa</span>
            <ul className="grid grid-cols-1 gap-y-2">
              <li>
                <a
                  href="https://github.com/medusajs"
                  target="_blank"
                  rel="noreferrer"
                >
                  GitHub
                </a>
              </li>
              <li>
                <a
                  href="https://docs.medusajs.com"
                  target="_blank"
                  rel="noreferrer"
                >
                  Documentation
                </a>
              </li>
              <li>
                <a
                  href="https://github.com/medusajs/nextjs-starter-medusa"
                  target="_blank"
                  rel="noreferrer"
                >
                  Source code
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div className="flex flex-col-reverse gap-y-4 justify-center xsmall:items-center xsmall:flex-row xsmall:items-end xsmall:justify-between">
        <span className="text-xsmall-regular text-gray-500">
          © Copyright 2022 ACME
        </span>
        <div className="min-w-[316px] flex xsmall:justify-end">
          <CountrySelect />
        </div>
      </div>
    </div>
  )
}

export default FooterNav
